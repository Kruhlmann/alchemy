include std.sys.panic
include std.io

sub brk
    swap 12 syscall1 sysread swap
marine

sub curheap
    0 brk swap
marine

sub halloc
    swap curheap + brk
    0 < if
        "Unable to increase heap memory" 1 1 syscall3
        1 exit
    endif
marine
